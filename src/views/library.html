<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://cdn.jsdelivr.net/npm/daisyui@4.12.22/dist/full.min.css"
      rel="stylesheet"
      type="text/css"
    />
    <link
      rel="stylesheet"
      href="https://maxst.icons8.com/vue-static/landings/line-awesome/line-awesome/1.3.0/css/line-awesome.min.css"
    />
    <title>Widget Library</title>
  </head>
  <body class="p-3">
    <div id="app">
      <div class="flex justify-between">
        <h1 class="mt-2 mb-4 text-2xl font-bold dark:text-white">
          Widget Library
        </h1>
        <button @click="createWidgetView()" class="btn btn-success">
          New Widget<i class="las la-plus-circle"></i>
        </button>
      </div>
      <label class="input input-bordered flex items-center gap-2 mb-2">
        <input
          type="text"
          v-model="searchQuery"
          class="grow"
          placeholder="Search"
        />
        <i class="las la-search"></i>
      </label>
      <div class="overflow-x-auto">
        <table class="table">
          <thead>
            <tr>
              <th>Enabled</th>
              <th>Name</th>
              <th>Description</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody>
            <tr v-for="widget in filteredWidgets" :key="widget.id">
              <td class="text-center whitespace-nowrap">
                <div
                  class="badge badge-sm"
                  :class="widget.enabled ? 'badge-success' : 'badge-error'"
                ></div>
              </td>
              <td class="whitespace-nowrap">{{ widget.name }}</td>
              <td style="width: 90%">{{ widget.description }}</td>
              <td class="whitespace-nowrap flex items-center space-x-4">
                <i
                  class="las la-edit text-neutral hover:text-neutral-content text-2xl cursor-pointer"
                  @click="editWidget(widget)"
                ></i>
                <input
                  type="checkbox"
                  class="toggle toggle-success"
                  v-model="widget.enabled"
                  @change="updateWidget(widget)"
                />
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/vue@2.7.14/dist/vue.min.js"></script>
    <script src="./library.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
  </body>
</html>
